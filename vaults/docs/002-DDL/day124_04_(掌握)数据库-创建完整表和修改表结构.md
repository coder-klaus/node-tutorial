# 605_day124_建表-DDL语句--DQL-聚合函数-多表查询-04_(掌握)数据库-创建完整表和修改表结构_1080p

## 视频来源

https://www.bilibili.com/video/BV1814y1X7Xr?p=25

## AI好记

https://aihaoji.com/zh/dashboard/tasks/view/article/d14b1cdf-e8a9-81da-f127-fd1893102b8a

## 正文内容

![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/3ede6c45-cce0-43bc-aee5-9ce50f666b3c.webp)

*00:00:00 - 00:00:22*

### 教学内容

**大白话讲解**：
我们之前聊了数据库表里可以用哪些数据类型（比如整数、字符串等）和约束（比如不能为空、唯一值等）。现在有了这些基础知识，我们可以开始创建一个更完整的表了！之前我们创建了一个简单的表结构，现在要删掉它，重新建一个更完善的“user”表，包含更多字段和约束。

---

![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/72fe2d1e-aa66-43f2-898c-aec19ebf0747.webp)

*00:00:24 - 00:02:14*

### 教学内容

**大白话讲解**：
要删掉之前的表，我们用`DROP TABLE`语句，但最好先检查表存不存在，用`IF EXISTS`判断，这样更安全，防止报错。删完后，我们重新创建一个“user”表，这次要更完整。创建表还是用`CREATE TABLE`，加上`IF NOT EXISTS`确保表不存在时才创建，避免重复创建的错误。
我们先从主键开始，主键一般是个唯一的ID，用来标识每条记录。如果数据量不大，用`INT`类型就够了；如果以后用户多了，可以改成`BIGINT`（大整数）。接下来我们会讲怎么改表结构。

### 代码示例

```sql
DROP TABLE IF EXISTS user;
CREATE TABLE IF NOT EXISTS user (
    id INT
);
```

---

![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/011aeff5-e4bd-4743-ad8d-4633a31c423f.webp)

*00:02:15 - 00:02:44*

### 教学内容

**大白话讲解**：
我们给“user”表的`id`字段用`INT`类型，但如果产品火了，用户量暴增，`INT`可能不够存那么多ID。这时候可以把`id`改成`BIGINT`，支持更大的数字。怎么改表结构？待会儿会讲，先把`id`设为`INT`。

---

![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/760f3266-23f2-44fe-bb07-c221a2cd2cef.webp)

*00:02:44 - 00:04:42*

### 教学内容

**大白话讲解**：
我们想让`id`作为主键，用`PRIMARY KEY`来指定，表示它是表的唯一标识。为了方便，每次加新用户时不用手动输入`id`，我们加个`AUTO_INCREMENT`，让`id`自动递增（比如1, 2, 3...）。
接着加个`name`字段，用`VARCHAR(20)`表示最多20个字符的字符串，还要确保名字唯一（`UNIQUE`）且不能为空（`NOT NULL`）。
再加个`level`字段，表示用户等级，用`INT`类型，默认值设为0（`DEFAULT 0`），这样没指定等级时自动是0。

### 代码示例

```sql
CREATE TABLE IF NOT EXISTS user (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(20) UNIQUE NOT NULL,
    level INT DEFAULT 0
);
```

---

![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/72fd7aec-cba0-40b7-8f88-66e1da0d43e9.webp)

*00:04:42 - 00:05:12*

### 教学内容

**大白话讲解**：
我们再加个`telephone`字段存电话号码，用`VARCHAR`类型（因为电话号码可能有“+86”这种前缀，不是纯数字）。电话号码的格式验证可以交给前端（用正则表达式检查）或后端代码来做，确保号码合法后再存到数据库。

---

![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/4615b4b8-f254-4ada-88c5-24eba3c8f15e.webp)

*00:05:15 - 00:06:17*

### 教学内容

**大白话讲解**：
电话号码用`VARCHAR`存，可以支持“+86”这种格式，也要设为`UNIQUE`确保号码不重复。如果电话号码不是必填的，可以允许为空（不加`NOT NULL`）。
创建好这张表后，就可以用代码（比如JavaScript或Java）来插入、修改、删除或查询数据了。运行建表语句后，刷新数据库就能看到新表。

### 代码示例

```sql
CREATE TABLE IF NOT EXISTS user (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(20) UNIQUE NOT NULL,
    level INT DEFAULT 0,
    telephone VARCHAR(20) UNIQUE
);
```

---

![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/6eda14a2-cd96-422c-a64f-6221fc38308e.webp)

*00:06:17 - 00:06:47*

### 教学内容

**大白话讲解**：
表建好后，我们手动加一条数据试试，比如用户名“WQY”。因为`id`设了`AUTO_INCREMENT`，它会自动填1；`level`有默认值0；`telephone`没设`NOT NULL`，所以可以为空。加完数据后，能看到这些字段自动填了默认值。

---

![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/2c481937-254d-44f0-821f-b77eb55aa815.webp)
![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/749953de-fba4-419e-adbb-ec7833de23db.webp)

*00:06:47 - 00:07:17*

### 教学内容

**大白话讲解**：
通过界面加数据时，只填了用户名“WQY”，其他字段按约束自动处理：`id`自动增长，`level`默认0，`telephone`为空。点击确定后，数据就加进去了。后面可以用SQL语句（比如`INSERT`）来加数据。

---

![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/43a7ff7e-c3e6-4ae2-80c2-0f63cab5696c.webp)
![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/16bf7da5-da1a-4644-981e-7af0167d43a2.webp)

*00:07:18 - 00:07:47*

### 教学内容

**大白话讲解**：
再加一条数据试试，比如用户名“copy”，等级设为10，电话号码随便填个“1334445555”。点击确定后，`id`自动增长（比如变成2），其他字段按输入的值保存。这就是完整表结构的创建过程。

---

![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/87fcd4ef-9b25-4d5d-a966-b20ff9213139.webp)

*00:07:47 - 00:08:17*

### 教学内容

**大白话讲解**：
这张表比之前简单版本多了主键、数据类型和约束（唯一、默认值等），功能更完整。每个字段的约束和类型都清楚了，比如`id`自动增长，`name`唯一且必填，`level`默认0，`telephone`唯一但可以为空。

---

![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/741389fd-648f-46c8-80b0-17fc384265db.webp)

*00:08:19 - 00:08:49*

### 教学内容

**大白话讲解**：
之前讲了删表（`DROP TABLE IF EXISTS`），现在讲改表。如果对表结构不满意，比如字段名、类型或约束，可以用`ALTER TABLE`来改。接下来会演示几种常见的修改方式。

---

![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/fbaae612-583a-4c71-9e47-234c74d3693d.webp)

*00:08:50 - 00:09:19*

### 教学内容

**大白话讲解**：
常见的改表操作包括改表名、加字段、改字段名或类型、删字段等。改表用`ALTER TABLE`，后面会一个个演示这些操作。

---

![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/11887af4-500b-4c58-a883-574928af9ca6.webp)

*00:09:20 - 00:09:50*

### 教学内容

**大白话讲解**：
先试试改表名。原表叫“user”，想改成“t_user”（加个“t”前缀，符合一些命名习惯）。用`ALTER TABLE user RENAME TO t_user`来改名。

### 代码示例

```sql
ALTER TABLE user RENAME TO t_user;
```

---

![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/f542792d-82e8-485b-b072-8d38f3e8076a.webp)

*00:09:50 - 00:10:16*

### 教学内容

**大白话讲解**：
改表名用`ALTER TABLE`加`RENAME TO`。比如把“user”改成“t_user”。如果工具没提示表名，可以关掉再重开编辑窗口，通常就能看到提示。

### 代码示例

```sql
ALTER TABLE user RENAME TO t_user;
```

---

![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/81d286ec-579c-48a8-ac2a-4826bfea56e8.webp)

*00:10:16 - 00:10:43*

### 教学内容

**大白话讲解**：
继续改表名，写`ALTER TABLE user RENAME TO t_user`。运行后刷新数据库，就能看到表名变成“t_user”了。

---

![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/ec32f845-5d4d-435e-835e-1383a01771c8.webp)

*00:10:43 - 00:11:13*

### 教学内容

**大白话讲解**：
改完表名，运行后刷新，表名成功变成“t_user”。这就完成了表名修改。

---

![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/65b86c60-ed61-43ce-b35e-b157d3b4d061.webp)

*00:11:15 - 00:11:44*

### 教学内容

**大白话讲解**：
接下来试试加字段。想记录用户创建时间，加个`create_at`字段，用`DATETIME`类型。语句是`ALTER TABLE t_user ADD create_at DATETIME`。

### 代码示例

```sql
ALTER TABLE t_user ADD create_at DATETIME;
```

---

![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/5ae24d43-0816-4d77-8c3b-77343f7642c7.webp)

*00:11:44 - 00:12:44*

### 教学内容

**大白话讲解**：
加字段用`ALTER TABLE t_user ADD`后跟字段名和类型，比如`create_at DATETIME`。字段名可以用引号，但不加也行。运行后，表里就多了这个字段。

光的。

---

![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/6a63ccfc-60a0-4815-9a06-886f09066843.webp)
![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/50ce1eb7-d046-4ee6-aa67-27bb7d453be0.webp)

*00:12:44 - 00:13:14*

### 教学内容

**大白话讲解**：
运行后刷新，表里多了`create_at`字段。加字段是改表结构的一种常见操作。

---

![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/42c3ff32-a0dd-40d7-a735-2a6e8ba38874.webp)

*00:13:14 - 00:14:42*

### 教学内容

**大白话讲解**：
现在改字段名，比如把`create_at`改成`create_time`。用`ALTER TABLE t_user CHANGE create_at create_time DATETIME`，既改名又指定新类型（这里类型没变，还是`DATETIME`）。改字段名用得少，最好建表时就想好。

### 代码示例

```sql
ALTER TABLE t_user CHANGE create_at create_time DATETIME;
```

---

![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/9e868232-d7f9-4578-9228-d11614dde871.webp)

*00:14:42 - 00:15:12*

### 教学内容

**大白话讲解**：
改字段名后，表里字段变成`create_time`。还有一种操作是删字段，用`ALTER TABLE t_user DROP create_time`来删。

### 代码示例

```sql
ALTER TABLE t_user DROP create_time;
```

---

![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/5e6f1585-8aba-48e6-9c7e-eb6d42d99c75.webp)

*00:15:12 - 00:15:41*

### 教学内容

**大白话讲解**：
删字段用`ALTER TABLE t_user DROP`，后面跟字段名，比如`create_time`。运行后字段就没了。

### 代码示例

```sql
ALTER TABLE t_user DROP create_time;
```

---

![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/621007b6-9f15-496e-a559-04ce6bbb9f12.webp)
![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/b425bd4b-d176-4adf-bacb-6b95a0c2e064.webp)

*00:15:42 - 00:16:12*

### 教学内容

**大白话讲解**：
再演示一遍加字段和删字段。先加个`update_time`字段（`ALTER TABLE t_user ADD update_time DATETIME`），再删掉它（`ALTER TABLE t_user DROP update_time`）。

### 代码示例

```sql
ALTER TABLE t_user ADD update_time DATETIME;
ALTER TABLE t_user DROP update_time;
```

---

![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/5e1eb514-f446-468f-a3e6-35731445736e.webp)
![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/5bdd4b37-f160-4a12-b1fd-37c27a3131d6.webp)
![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/63a5361d-f7e5-4f21-993f-2c49648638e9.webp)
![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/edf18590-81be-407c-b4f1-20e3de3fa023.webp)

*00:16:14 - 00:16:43*

### 教学内容

**大白话讲解**：
删字段后，`create_time`没了。改表操作用得不多，最好建表时就设计好，但如果需要改，SQL语句很灵活。

---

![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/acd5e290-a2e8-4778-8ed9-e4d4b65aa151.webp)

*00:16:43 - 00:17:13*

### 教学内容

**大白话讲解**：
如果`id`的`INT`类型不够用了（用户量太大），可以改成`BIGINT`。用`ALTER TABLE t_user MODIFY id BIGINT`来改类型，名字不变。

### 代码示例

```sql
ALTER TABLE t_user MODIFY id BIGINT;
```

---

![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/f62d6da7-ebcd-42d7-b8bb-51f3a2fd47da.webp)

*00:17:14 - 00:17:43*

### 教学内容

**大白话讲解**：
改字段类型enation

### 代码示例

```sql
ALTER TABLE t_user MODIFY id BIGINT;
```

---

![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/93ea774d-5545-4e4e-9e2b-fa576423e932.webp)
![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/bb27cab0-e9c2-4be8-b72f-46d38570d94e.webp)

*00:17:45 - 00:18:15*

### 教学内容

**大白话讲解**：
运行后，`id`变成`BIGINT`类型。可以用工具查看表结构，确认修改成功。常见的改表操作包括改表名、加字段、改字段名或类型、删字段，照笔记练习一遍就明白了。

---

![](https://pic.aihaoji.com/user_cf07d812-ef26-8550-a50d-768cff660798/img/20250624/d14b1cdf-e8a9-81da-f127-fd1893102b8a/22535ac1-c0df-481b-8fdd-40107c6be641.webp)

*00:18:15 - 00:18:33*

### 教学内容

**大白话讲解**：
这节课讲了DDL语句的建表（`CREATE TABLE`）、删表（`DROP TABLE`）和改表（`ALTER TABLE`）操作，涵盖了创建完整表和修改表结构的各种方法。

---