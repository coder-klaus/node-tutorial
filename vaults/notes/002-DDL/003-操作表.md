## 查看表

```sql
-- 查看所有的表
SHOW TABLES;

-- 查看表结构 => desc是description的缩写
DESC t_singer;
```



## 删除表

```sql
-- 删除表
DROP TABLE t_singer;

-- 表存在再删除，否则会报错
-- drop => 下降、停止、放弃
DROP TABLE IF EXISTS t_singer;
```



## 创建表

### 基本方式

1. 字段和类型之间使用空格分割
2. 字段和字段之间使用逗号分割
3. 最后的字段最后的逗号一般省略

```sql
CREATE TABLE IF NOT EXISTS t_singer (
  name VARCHAR(10),
  age INT
);
```



### 约束条件

```sql
CREATE TABLE t_singer (
  -- PRIMARY KEY => 主键 「 数据少可以用INT，数据变多可以改用BIGINT 」
	-- AUTO_INCREMENT 表示 自动递增 「 这个字段约束没有提示，需要纯手打 」
  -- 		+ 每次插入新记录，字段会自动从1开始递增（1, 2, 3...），不用手动填写
  -- 		+ 只有 主键 和 索引 可以设置 自动增长
  --    + 如果数据被删除，自动增长不会回退，会从之前索引值的基础上继续递增
	id INT PRIMARY KEY AUTO_INCREMENT,
	-- UNIQUE 数据值必须唯一
	-- NOT NULL 表示值不能为空
  -- NULL 表示值可以为空
	name VARCHAR(20) UNIQUE NOT NULL,
	-- DEFAULT 设置默认值 「 SQL默认的默认值为 NULL 」
	level INT DEFAULT 0,
  -- UNIQUE 数据值必须唯一
  -- UNIQUE表示插入的值必须唯一，但不包括系统默认值 NULL
  -- 也就是说 数据可以不插入，但如果插入则值必须唯一 => 而没有插入的数据，他们默认值都是NULL
  
  -- 即 UNIQUE字段允许NULL值，且多个NULL值不视为重复，因为NULL表示“无值” 
  -- UNIQUE 可以结合NOT NULL要求必须有值
	telPhone VARCHAR(20) UNIQUE -- 电话使用字符串是因为可能存在 +86 这种国家前缀
);
```

向上边 `PRIMARY KEY`、`UNIQUE` 这类非字段名、非数据类型的关键字，被称之为约束条件，用于限制可以插入的值的类型

SQL能进行的约束非常有限，推荐在前后端就完成了完备的数据校对，仅把校对完的数据插入数据库中

而表约束有可以分为

+ 表约束 => 约束整个表结构 => 主键、外键、索引
+ 字段约束 => 约束某个字段值 => 除 主键、外键、索引 之外的约束都是字段约束



### 自动更新值

```sql
CREATE TABLE t_singer (
	id INT PRIMARY KEY AUTO_INCREMENT,
	name VARCHAR(20) UNIQUE NOT NULL,
	telPhone VARCHAR(20) UNIQUE,
  -- CURRENT_TIMESTAMP 代表当前的时间戳，实际是 TIMESTAMP 类型值
  -- DEFAULT CURRENT_TIMESTAMP 表示默认值为插入时间
  -- ON UPDATE CURRENT_TIMESTAMP 表示当记录发生更新时,  update_time 字段会自动更新为当前时间戳
  update_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;
);
```



#### 主键

主键（`PRIMARY KEY`）是表里最重要的约束，用来保证表里每条数据的唯一性，通过主键能快速找到某条记录。

主键（PRIMARY KEY）的特点：

- 不能重复，确保每条记录唯一。
- 不能为NULL（空值），MySQL自动强制NOT NULL，即使没写。
- 可以用多列组成**联合主键**（如name+age），但通常用单列（如id）。
- 建议主键用与业务无关的字段，比如id，而不是业务字段（如name、height、hobbies），避免业务逻辑干扰。



## 修改表

一般不推荐在创建表后，进行表结构的修改。因为会牵扯到表原本数据的改变，以及主外键，索引等的改变

```sql
-- 修改表名
ALTER TABLE t_music RENAME TO t_singer;
```

```sql
-- 新增字段 
-- create at 不是合法字段，因为字段中存在空格这种特殊字符，需要使用反引号进行包裹
-- 因此推荐 在SQL中的自定义标识使用下划线命名法
ALTER TABLE t_singer ADD `create at` TIMESTAMP;
```

